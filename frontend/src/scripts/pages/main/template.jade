.container-fluid
    .row
        .col-md-10.col-md-offset-1
            h1 App
            a(ng-if="!isLoggedIn" href="#/login") (Log in)
            a(ng-if="isLoggedIn" href="#/logout") (Log out)
            table#users-table.table.table-striped.table-bordered.table-hover.table-condensed
                thead
                    th 
                        a(href="javascript:;" ng-click="orderByField='id'; reverseSort = !reverseSort") UID
                    th
                        a(href="javascript:;" ng-click="orderByField='username'; reverseSort = !reverseSort")  Username
                    th
                        a(href="javascript:;" ng-click="orderByField='password'; reverseSort = !reverseSort") Password
                    th
                        a(href="javascript:;" ng-click="orderByField='firstname'; reverseSort = !reverseSort") First Name
                    th
                        a(href="javascript:;" ng-click="orderByField='lastname'; reverseSort = !reverseSort") Last Name
                    th
                        a(href="javascript:;" ng-click="orderByField='street'; reverseSort = !reverseSort") Street
                    th
                        a(href="javascript:;" ng-click="orderByField='zip'; reverseSort = !reverseSort") ZIP
                    th
                        a(href="javascript:;" ng-click="orderByField='location'; reverseSort = !reverseSort") Location
                    th(ng-if="editMode") Action
                tbody
                    tr(
                        ng-repeat="item in data | orderBy:orderByField:reverseSort"
                        ng-click="setSelectedRow(item.id)"
                        ng-class="{selected: item.id === currentSelectedId}"
                    )
                        td
                            input.form-control(ng-model="item.id" ng-if="editMode")
                            span(ng-if="!editMode") {{item.id}}
                        td
                            input.form-control(ng-model="item.username" ng-if="editMode")
                            span(ng-if="!editMode") {{item.username}}
                        td
                            input.form-control(ng-model="item.password" ng-if="editMode")
                            span(ng-if="!editMode") {{item.password}}
                        td
                            input.form-control(ng-model="item.firstname" ng-if="editMode")
                            span(ng-if="!editMode") {{item.firstname}}
                        td
                            input.form-control(ng-model="item.lastname" ng-if="editMode")
                            span(ng-if="!editMode") {{item.lastname}}
                        td
                            input.form-control(ng-model="item.street" ng-if="editMode")
                            span(ng-if="!editMode") {{item.street}}
                        td
                            input.form-control(ng-model="item.zip" ng-if="editMode")
                            span(ng-if="!editMode") {{item.zip}}
                        td
                            input.form-control(ng-model="item.location" ng-if="editMode")
                            span(ng-if="!editMode") {{item.location}}
                        td(ng-if="editMode")
                            button.btn-primary.btn(ng-click="editUser(item)") Edit

            .row(ng-show="isLoggedIn")
                .col-md-4
                    button.btn-success.btn(ng-click="showForm = !showForm") Add
                    button.btn-primary.btn(ng-if="currentSelectedId" ng-click="editMode = true") Edit
                    button.btn-danger.btn(ng-if="currentSelectedId" ng-click="deleteUser(currentSelectedId)") Delete
                .col-md-4
                    p.text-danger(ng-if="passwordChecked == false") Passwords have to be exactly the same
                    form(ng-show="showForm" ng-init="form={}")
                        .form-group
                            input.form-control(ng-model="form.username" placeholder="Username" required )
                        .form-group
                            input.form-control(ng-model="form.password" placeholder="Password" required type="password")
                        .form-group
                            input.form-control(ng-model="form.passwordcheck" placeholder="Check password" required type="password")
                        .form-group
                            input.form-control(ng-model="form.firstname" placeholder="First name" required )
                        .form-group
                            input.form-control(ng-model="form.lastname" placeholder="Last name" required )
                        .form-group
                            input.form-control(ng-model="form.street" placeholder="Street (optional)")
                        .form-group
                            input.form-control(ng-model="form.zip" placeholder="ZIP (optional)")
                        .form-group
                            input.form-control(ng-model="form.location" placeholder="Location (optional)")
                        button.btn.btn-default(type="submit" ng-click="formSubmit(form)") Submit